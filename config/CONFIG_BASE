#
#  $Id$
#

# the order of following list is important

#
# for c++ build add the dirs gdd and cas after ca
# (and uncomment the c++ files in src/lbCom/Makefile.Unix)
#
DIRS = \
    tools \
    include \
    cxxTemplates \
    toolsComm\
    libCom \
    libvxWorks\
    cvtDctsdr \
    dbStatic \
    db \
    bpt \
    ca \
    util \
    misc \
    sequencer \
    dbtools \
    rsrv\
    rec\
    as \
    drv\
    dev\
    devOpt\
    iocCore\
    gdd\
    cas


EPICS_BASE = $(TOP)

# EPICS include config file
include $(TOP)/config/CONFIG

EPICS_BASE = $(INSTALL_LOCATION)

BUILD_ARCHS=$(HOST_ARCH)
ifndef CROSS_COMPILER_HOST_ARCHS
     BUILD_ARCHS+=$(CROSS_COMPILER_TARGET_ARCHS)
else
     ifeq ($(HOST_ARCH),$(findstring $(HOST_ARCH),$(CROSS_COMPILER_HOST_ARCHS)))
          BUILD_ARCHS+=$(CROSS_COMPILER_TARGET_ARCHS)
     endif
endif

#
# this speeds up the build by turning off implicit rules search
#
.PHONY: $(TOP)/config/CONFIG
.PHONY: $(TOP)/config/CONFIG.* $(TOP)/config/CONFIG_* 
.PHONY: $(TOP)/config/RULES.* $(TOP)/config/RULES_* .DEPENDS
.PHONY: $(HOME)/.EPICS_CONFIG
.PHONY: ../Makefile.Vx ../Makefile.Unix ../Makefile.Host Makefile

