# CONFIG - Load build configuration data
#
# Do not make changes to this file!

# Allow user to override where the build rules come from
RULES = $(EPICS_BASE)

# RELEASE files point to other application tops
include $(TOP)/configure/RELEASE
-include $(TOP)/configure/RELEASE.$(EPICS_HOST_ARCH).Common
ifdef T_A
-include $(TOP)/configure/RELEASE.Common.$(T_A)
-include $(TOP)/configure/RELEASE.$(EPICS_HOST_ARCH).$(T_A)
endif

CONFIG = $(RULES)/configure
include $(CONFIG)/CONFIG
include $(TOP)/configure/CONFIG_DATABASE_VERSION

# Override the Base definition:
INSTALL_LOCATION = $(TOP)

# Use new RSET definition
BASE_CPPFLAGS += -DUSE_TYPED_RSET

# Shared library ABI version.
SHRLIB_VERSION = 3.17.0

# Set path for local tools
MAKEBPT                    = $(INSTALL_HOST_BIN)/makeBpt$(HOSTEXE)
DBEXPAND                   = $(PERL) $(INSTALL_HOST_BIN)/dbdExpand.pl
DBTORECORDTYPEH            = $(PERL) $(INSTALL_HOST_BIN)/dbdToRecordtypeH.pl
DBTOMENUH                  = $(PERL) $(INSTALL_HOST_BIN)/dbdToMenuH.pl
DBDTOHTML                  = $(PERL) $(INSTALL_HOST_BIN)/dbdToHtml.pl
REGISTERRECORDDEVICEDRIVER = $(PERL) $(INSTALL_HOST_BIN)/registerRecordDeviceDriver.pl
MSI3_15                    = $(INSTALL_HOST_BIN)/msi$(HOSTEXE)

# Set path for tools from libcom for unbundled build
ifdef EPICS_LIBCOM
EYACC = $(abspath $(EPICS_LIBCOM_HOST_BIN))/antelope$(HOSTEXE)
ELEX = $(abspath $(EPICS_LIBCOM_HOST_BIN))/e_flex$(HOSTEXE) -S$(EPICS_LIBCOM)/include/flex.skel.static
endif

# CONFIG_SITE files contain other build configuration settings
include $(TOP)/configure/CONFIG_SITE
-include $(TOP)/configure/CONFIG_SITE.$(EPICS_HOST_ARCH).Common
ifdef T_A
 -include $(TOP)/configure/CONFIG_SITE.Common.$(T_A)
 -include $(TOP)/configure/CONFIG_SITE.$(EPICS_HOST_ARCH).$(T_A)
endif
